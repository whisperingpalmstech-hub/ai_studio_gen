import React, { createContext, useContext, useState, useEffect } from 'react';

type Language = 'en' | 'hi' | 'mr';

interface I18nContextType {
    language: Language;
    setLanguage: (lang: Language) => void;
    t: (key: string) => string;
}

const TRANSLATIONS: Record<Language, Record<string, string>> = {
    en: {
        cinematicVideo: "Cinematic Video",
        studioActive: "Studio Active",
        connecting: "Connecting...",
        studioOffline: "Studio Offline",
        produceHollywood: "Produce Hollywood-grade cinematic motion using the state-of-the-art Wan 2.1 engine.",
        creditsLeft: "Credits left",
        cost: "Cost",
        t2v: "Text to Video",
        i2v: "Image to Video",
        video_inpaint: "Video Auto-Mask",
        uploadBaseVideo: "Upload Base Video",
        uploadImageRef: "Upload image for reference",
        whatToHide: "What to Hide/Mask?",
        hideMaskPlaceholder: "Describe what the AI should find and mask... e.g., 'the person's red shirt', 'the car in background'",
        smartAiDesc: "Smart AI detection will automatically find and mask these objects across all frames.",
        refinementPrompt: "Refinement / Inpaint Prompt",
        motionPrompt: "Motion Prompt",
        refinePlaceholder: "What to put in the masked area? e.g., 'a blue denium jacket', 'a futuristic electric car'",
        motionPlaceholder: "Describe the action and atmosphere... e.g., 'A high-speed chase through a neon-drenched futuristic city...'",
        tokensUsed: "tokens used",
        refineWithAi: "Refine with AI",
        aspectRatio: "Aspect Ratio",
        durationFps: "Duration & FPS",
        standard5s: "Standard (5s)",
        extended7s: "Extended (7.5s)",
        snapshot2s: "Snapshot (2.5s)",
        cinematic16: "Cinematic (16 FPS)",
        smooth24: "Smooth (24 FPS)",
        fluid30: "Fluid (30 FPS)",
        startProduction: "Start Production",
        stopResetUI: "Stop & Reset Production UI",
        cinemaOutput: "Cinema Output",
        stageEmpty: "Stage is empty. Start production to see magic.",
        calculatingMotion: "Calculating Motion Vectors...",
        temporalFrame: "Temporal Frame Synthesis",
        productionMetadata: "Production Metadata",
        format: "Format:",
        engine: "Engine:",
        resolution: "Resolution:",
        frames: "Frames:",
        studioArchives: "Studio Archives",
        pastGenerations: "Your past cinematic generations",
        browseAll: "Browse All",
        // Navigation and Layout Sidebar
        navDashboard: "Dashboard",
        navGenerate: "Generate",
        navGenerateVideo: "Generate Video",
        navGallery: "Gallery",
        navWorkflows: "Workflows",
        navModels: "Models",
        navApiDocs: "API Docs",
        navSettings: "Settings",
        enterprise: "Enterprise",
        newGeneration: "New Generation",
        workspace: "WORKSPACE",
        developer: "DEVELOPER",
        credits: "Credits",
        proPlan: "Pro Plan • 1,000/mo",
        enterpriseUnlimited: "Enterprise • Unlimited",
        freeTier: "Free tier • 100/mo",
        managePlan: "Manage Plan",
        upgradePlan: "Upgrade Plan",
        uiLang: "UI Lang:",
        user: "User",
        pro: "Pro",
        free: "Free"
    , 
        welcomeBack: "Welcome back!",
        whatsHappening: "Here's what's happening with your AI creations.",
        totalGens: "Total Generations",
        keepCreating: "Keep creating!",
        workflowsCreated: "Workflows Created",
        greatStart: "Great start",
        tryEditor: "Try the editor",
        creditsRemaining: "Credits Remaining",
        resetsIn30: "Resets in 30 days",
        timeSaved: "Time Saved",
        vsManual: "vs manual creation",
        textToImage: "Text to Image",
        genFromPrompt: "Generate images from text prompts",
        startGenerating: "Start generating",
        workflowEditor: "Workflow Editor",
        buildComplex: "Build complex generation pipelines",
        createWorkflow: "Create workflow",
        exploreModels: "Explore Models",
        browseCheckpoints: "Browse checkpoints, LoRAs & more",
        browseModels: "Browse models",
        recentGens: "Recent Generations",
        viewAll: "View all",
        noGensYet: "No generations yet",
        startCreatingArt: "Start creating amazing AI art by describing what you want to see.",
        createFirstImg: "Create Your First Image",
        galleryTitle: "Gallery",
        manageImages: "Browse and manage your AI-generated images",
        searchPrompt: "Search by prompt...",
        filter: "Filter",
        startCreatingImages: "Start creating amazing images with AI",
        genFirstImage: "Generate Your First Image",
        noPromptAvail: "No prompt available",
        genDetails: "Generation Details",
        promptLabel: "PROMPT",
        negPromptLabel: "NEGATIVE PROMPT",
        sizeLabel: "SIZE",
        stepsLabel: "STEPS",
        cfgScaleLabel: "CFG SCALE",
        seedLabel: "SEED",
        downloadLabel: "Download",
        deleteLabel: "Delete",
        confirmDelTitle: "Confirm Deletion",
        confirmDelMsg: "Are you sure you want to permanently delete this generation? This action will remove the image/video from storage and cannot be undone.",
        cancel: "Cancel",
        delPermanently: "Delete Permanently",
        workflowTitle: "Workflows",
        workflowDesc: "Build, manage, and execute your AI pipelines",
        newWorkflow: "New Workflow",
        quickStartTemplates: "Quick Start Templates",
        useTemplate: "Use Template",
        myWorkflows: "My Workflows",
        createWorkflowStartFromScratch: "Start from scratch with the node editor",
        nodesLabel: "nodes",
        updatedDateLabel: "Updated",
        editLabel: "Edit",
        modelsHub: "Models Hub",
        modelsDesc: "Explore and manage checkpoints and LoRAs",
        uploadModel: "Upload Model",
        searchModels: "Search models...",
        allTypes: "All Types",
        checkpoint: "Checkpoint",
        lora: "LoRA",
        vae: "VAE",
        addedBy: "Added by",
        modelName: "Model Name",
        modelUrlDesc: "HuggingFace URL or direct link",
        descriptionLabel: "Description",
        addModel: "Add Model",
        adding: "Adding..."
    , 
        txt2img: "Text to Image",
        img2img: "Image to Image",
        inpaintMode: "AI Smart Inpaint",
        upscaleMode: "Upscale",
        generationSettings: "Generation Settings",
        promptLabelUI: "Positive Prompt",
        promptOptionalTitle: "(Optional for detail)",
        negativePromptLabel: "Negative Prompt",
        baseImageTitle: "Base Image",
        uploadBaseImg: "Upload base image",
        dragDropOrig: "Click or drag your original image here",
        maskImageTitle: "Mask Image",
        uploadMaskImg: "Upload mask image",
        dragDropMask: "Click or drag your mask image here (White = area to change)",
        selectMaskingMethod: "Select Masking Method",
        autoMaskMethod: "Auto-Mask (AI Detection)",
        manualMaskMethod: "Manual Mask Upload",
        whatToChangeLabel: "What to change?",
        describeChangePlaceholder: "e.g. 'the person's red shirt', 'the car in background'",
        aspectRatioTitle: "Aspect Ratio",
        advancedSettingsTitle: "Advanced Settings",
        stepsTitle: "Steps",
        cfgScaleTitle: "CFG Scale",
        seedTitle: "Seed",
        randomTitle: "Random",
        samplerTitle: "Sampler",
        baseModelTitle: "Base Model",
        generateButtonLabel: "Generate Image",
        generatingButtonLabel: "Generating...",
        stopResetUILabel: "Stop & Reset UI"
    , 
        apiDocsTitle: "API Documentation",
        apiDocsDesc: "Integrate AI Studio into your applications",
        authentication: "Authentication",
        authDesc: "All API requests require authentication using an API key. Include the key in the x-api-key header. You can also use a Supabase JWT Bearer token for user-scoped access.",
        baseUrl: "Base URL",
        versionStable: "v1 Stable",
        quickStart3Step: "Quick Start: 3-Step Workflow",
        quickStartDesc: "Every generation follows this pattern: Upload → Create Job → Poll Result",
        step1Title: "Upload Image",
        step2Title: "Create Job",
        step3Title: "Get Result",
        endpoints: "Endpoints",
        jobTypesCosts: "Job Types & Credit Costs",
        typeCol: "Type",
        descCol: "Description",
        creditsCol: "Credits",
        integrationExamples: "Integration Examples",
        rateLimitsTierInfo: "Rate Limits & Tier Info",
        maxRes: "Max Res",
        concurrentJobs: "Jobs",
        copied: "Copied!",
        copy: "Copy",
        parameters: "Parameters",
        example: "Example",
        response: "Response",
        nameLabel: "Name",
        typeLabel: "Type",
        requiredLabel: "Required",
        descLabel: "Description",
        requiredTag: "Required",
        optionalTag: "Optional"
    , 
        settingsTitle: "Settings",
        settingsDesc: "Manage your account, API keys, and preferences",
        profileTab: "Profile",
        billingTab: "Billing & Plans",
        apiKeysTab: "API Keys",
        notificationsTab: "Notifications",
        securityTab: "Security",
        profileInfo: "Profile Information",
        nameLabel: "Name",
        emailLabel: "Email",
        saveChanges: "Save Changes",
        availableCredits: "Available Credits",
        usage: "Usage",
        subscriptionPlans: "Subscription Plans",
        currentPlan: "Current Plan",
        upgrade: "Upgrade",
        generateKey: "Generate Key",
        keysUsed: "Keys Used",
        noApiKeysYet: "No API Keys Yet",
        generateFirstKey: "Generate Your First Key",
        quickStart: "Quick Start",
        notificationPrefs: "Notification Preferences",
        securitySettings: "Security Settings",
        changePassword: "Change Password",
        updatePassword: "Update Password",
        dangerZone: "Danger Zone",
        signOut: "Sign Out",
        deleteAccount: "Delete Account"
    , 
        workflowEditor: "Workflow Editor",
        nodeLibrary: "Node Library",
        dragClickNodes: "Drag or click to add nodes",
        searchNodes: "Search nodes...",
        save: "Save",
        saved: "Saved!",
        queuePrompt: "Queue Prompt",
        runningNode: "Running: Node",
        processing: "Processing...",
        untitledWorkflow: "Untitled Workflow",
        workflowQueued: "Workflow Queued — watching for live updates...",
        workflowCompleted: "Workflow completed successfully!",
        executionError: "Execution Error"
    },
    hi: {
        cinematicVideo: "सिनेमैटिक वीडियो",
        studioActive: "स्टूडियो सक्रिय",
        connecting: "कनेक्ट हो रहा है...",
        studioOffline: "स्टूडियो ऑफ़लाइन",
        produceHollywood: "अत्याधुनिक Wan 2.1 इंजन का उपयोग करके हॉलीवुड-ग्रेड सिनेमैटिक मोशन तैयार करें।",
        creditsLeft: "क्रेडिट शेष",
        cost: "लागत",
        t2v: "टेक्स्ट से वीडियो",
        i2v: "इमेज से वीडियो",
        video_inpaint: "वीडियो ऑटो-मास्क",
        uploadBaseVideo: "वीडियो अपलोड करें",
        uploadImageRef: "संदर्भ के लिए छवि अपलोड करें",
        whatToHide: "क्या छिपाएं/मास्क करें?",
        hideMaskPlaceholder: "वर्णन करें कि एआई को क्या खोजना और मास्क करना चाहिए... जैसे, 'व्यक्ति की लाल कमीज'",
        smartAiDesc: "स्मार्ट एआई डिटेक्शन सभी फ़्रेमों में इन वस्तुओं को स्वचालित रूप से खोज और मास्क करेगा।",
        refinementPrompt: "रिफाइनमेंट / इनपेंट प्रॉम्प्ट",
        motionPrompt: "मोशन प्रॉम्प्ट",
        refinePlaceholder: "मास्क किए गए क्षेत्र में क्या रखना है? जैसे, 'एक नीली डेनिम जैकेट'",
        motionPlaceholder: "माहौल का वर्णन करें... जैसे, 'नियॉन रोशनी वाले भविष्य के शहर में एक तेज़ रफ़्तार पीछा...'",
        tokensUsed: "टोकन उपयोग किए गए",
        refineWithAi: "एआई के साथ परिष्कृत करें",
        aspectRatio: "पहलू अनुपात",
        durationFps: "अवधि और एफपीएस",
        standard5s: "मानक (5s)",
        extended7s: "विस्तारित (7.5s)",
        snapshot2s: "स्नैपशॉट (2.5s)",
        cinematic16: "सिनेमैटिक (16 FPS)",
        smooth24: "स्मूथ (24 FPS)",
        fluid30: "फ्लूइड (30 FPS)",
        startProduction: "उत्पादन शुरू करें",
        stopResetUI: "उत्पादन UI रोकें और रीसेट करें",
        cinemaOutput: "सिनेमा आउटपुट",
        stageEmpty: "स्टेज खाली है। जादू देखने के लिए उत्पादन शुरू करें।",
        calculatingMotion: "मोशन वेक्टर्स की गणना हो रही है...",
        temporalFrame: "टेम्पोरल फ्रेम सिंथेसिस",
        productionMetadata: "उत्पादन मेटाडेटा",
        format: "प्रारूप:",
        engine: "इंजन:",
        resolution: "रिज़ॉल्यूशन:",
        frames: "फ़्रेम:",
        studioArchives: "स्टूडियो आर्काइव्स",
        pastGenerations: "आपकी पिछली पीढ़ी के वीडियो",
        browseAll: "सभी ब्राउज़ करें",
        // Navigation and Layout Sidebar
        navDashboard: "डैशबोर्ड",
        navGenerate: "बनाएं",
        navGenerateVideo: "वीडियो बनाएं",
        navGallery: "गैलरी",
        navWorkflows: "वर्कफ़्लो",
        navModels: "मॉडल",
        navApiDocs: "API दस्तावेज़",
        navSettings: "सेटिंग्स",
        enterprise: "एंटरप्राइज़",
        newGeneration: "नया निर्माण",
        workspace: "कार्यक्षेत्र",
        developer: "डेवलपर",
        credits: "क्रेडिट",
        proPlan: "प्रो प्लान • 1,000/महीना",
        enterpriseUnlimited: "एंटरप्राइज़ • असीमित",
        freeTier: "मुफ्त टियर • 100/महीना",
        managePlan: "प्लान प्रबंधित करें",
        upgradePlan: "प्लान अपग्रेड करें",
        uiLang: "UI भाषा:",
        user: "उपयोगकर्ता",
        pro: "प्रो",
        free: "मुफ्त"
    , 
        welcomeBack: "वापसी पर स्वागत है!",
        whatsHappening: "यहां बताया गया है कि आपकी AI कृतियों के साथ क्या हो रहा है।",
        totalGens: "कुल पीढ़ियां (Generations)",
        keepCreating: "बनाते रहें!",
        workflowsCreated: "वर्कफ़्लो बनाए गए",
        greatStart: "शानदार शुरुआत",
        tryEditor: "संपादक आज़माएं",
        creditsRemaining: "शेष क्रेडिट",
        resetsIn30: "30 दिनों में रीसेट",
        timeSaved: "समय की बचत",
        vsManual: "बनाम मैन्युअल रचना",
        textToImage: "टेक्स्ट से छवि",
        genFromPrompt: "टेक्स्ट प्रॉम्प्ट से छवियां बनाएं",
        startGenerating: "बनाना शुरू करें",
        workflowEditor: "वर्कफ़्लो संपादक",
        buildComplex: "जटिल जनरेशन पाइपलाइन बनाएं",
        createWorkflow: "वर्कफ़्लो बनाएं",
        exploreModels: "मॉडल देखें",
        browseCheckpoints: "चेकपॉइंट, LoRA और बहुत कुछ ब्राउज़ करें",
        browseModels: "मॉडल ब्राउज़ करें",
        recentGens: "हाल की पीढ़ियां",
        viewAll: "सभी देखें",
        noGensYet: "अभी तक कोई पीढ़ी (Generation) नहीं",
        startCreatingArt: "आप जो देखना चाहते हैं उसका वर्णन करके अद्भुत AI कला बनाना शुरू करें।",
        createFirstImg: "अपनी पहली छवि बनाएं",
        galleryTitle: "गैलरी",
        manageImages: "अपने AI-जनित छवियों को ब्राउज़ और प्रबंधित करें",
        searchPrompt: "प्रॉम्प्ट द्वारा खोजें...",
        filter: "फ़िल्टर",
        startCreatingImages: "AI के साथ अदभुत चित्र बनाना शुरू करें",
        genFirstImage: "अपनी पहली छवि बनाएं",
        noPromptAvail: "कोई प्रॉम्प्ट उपलब्ध नहीं है",
        genDetails: "पीढ़ी (Generation) का विवरण",
        promptLabel: "प्रॉम्प्ट",
        negPromptLabel: "नकारात्मक प्रॉम्प्ट",
        sizeLabel: "आकार",
        stepsLabel: "कदम",
        cfgScaleLabel: "CFG स्केल",
        seedLabel: "सीड",
        downloadLabel: "डाउनलोड",
        deleteLabel: "मिटाएं",
        confirmDelTitle: "हटाने की पुष्टि करें",
        confirmDelMsg: "क्या आप वाकई इस पीढ़ी को स्थायी रूप से हटाना चाहते हैं? यह कार्रवाई छवि/वीडियो को संग्रहण से हटा देगी और इसे पूर्ववत नहीं किया जा सकता है।",
        cancel: "रद्द करें",
        delPermanently: "स्थायी रूप से हटाए",
        workflowTitle: "वर्कफ़्लो",
        workflowDesc: "अपने एआई पाइपलाइनों का निर्माण, प्रबंधन और निष्पादन करें",
        newWorkflow: "नया वर्कफ़्लो",
        quickStartTemplates: "त्वरित प्रारंभ टेम्पलेट",
        useTemplate: "टेम्पलेट का उपयोग करें",
        myWorkflows: "मेरे वर्कफ़्लो",
        createWorkflowStartFromScratch: "नोड संपादक के साथ प्रारंभ से शुरू करें",
        nodesLabel: "नोड्स",
        updatedDateLabel: "अद्यतित (Updated)",
        editLabel: "संपादन",
        modelsHub: "मॉडल हब",
        modelsDesc: "चेकपॉइंट्स और LoRAs को एक्सप्लोर करें और प्रबंधित करें",
        uploadModel: "मॉडल अपलोड करें",
        searchModels: "मॉडल खोजें...",
        allTypes: "सभी प्रकार",
        checkpoint: "चेकपॉइंट",
        lora: "LoRA",
        vae: "VAE",
        addedBy: "द्वारा जोड़ा गया",
        modelName: "मॉडल का नाम",
        modelUrlDesc: "HuggingFace URL या सीधा लिंक",
        descriptionLabel: "विवरण",
        addModel: "मॉडल जोड़ें",
        adding: "जोड़ा जा रहा है..."
    , 
        txt2img: "टेक्स्ट से छवि",
        img2img: "छवि से छवि",
        inpaintMode: "एआई स्मार्ट इनपेंट",
        upscaleMode: "अपस्केल",
        generationSettings: "जेनरेशन सेटिंग्स",
        promptLabelUI: "सकारात्मक प्रॉम्प्ट",
        promptOptionalTitle: "(विवरण के लिए वैकल्पिक)",
        negativePromptLabel: "नकारात्मक प्रॉम्प्ट",
        baseImageTitle: "आधार छवि",
        uploadBaseImg: "आधार छवि अपलोड करें",
        dragDropOrig: "अपनी मूल छवि यहां क्लिक करें या खींचें",
        maskImageTitle: "मास्क छवि",
        uploadMaskImg: "मास्क छवि अपलोड करें",
        dragDropMask: "अपनी मुखौटा छवि यहां क्लिक करें या खींचें (सफेद = बदलने का क्षेत्र)",
        selectMaskingMethod: "मास्किंग विधि चुनें",
        autoMaskMethod: "ऑटो-मास्क (एआई डिटेक्शन)",
        manualMaskMethod: "मैनुअल मास्क अपलोड",
        whatToChangeLabel: "क्या बदलना है?",
        describeChangePlaceholder: "उदा. 'व्यक्ति की लाल कमीज', 'पृष्ठभूमि में कार'",
        aspectRatioTitle: "पहलू अनुपात",
        advancedSettingsTitle: "उन्नत सेटिंग्स",
        stepsTitle: "कदम",
        cfgScaleTitle: "CFG स्केल",
        seedTitle: "सीड",
        randomTitle: "यादृच्छिक (Random)",
        samplerTitle: "सैम्पलर",
        baseModelTitle: "बेस मॉडल",
        generateButtonLabel: "छवि बनाएं",
        generatingButtonLabel: "बन रहा है...",
        stopResetUILabel: "रुकें और UI रीसेट करें"
    , 
        apiDocsTitle: "API दस्तावेज़ीकरण",
        apiDocsDesc: "अपने अनुप्रयोगों में AI Studio को एकीकृत करें",
        authentication: "प्रमाणीकरण",
        authDesc: "सभी API अनुरोधों के लिए API कुंजी का उपयोग करके प्रमाणीकरण की आवश्यकता होती है। x-api-key हेडर में कुंजी शामिल करें। आप उपयोगकर्ता-स्कोप एक्सेस के लिए Supabase JWT बियरर टोकन का भी उपयोग कर सकते हैं।",
        baseUrl: "बेस URL",
        versionStable: "v1 स्थिर",
        quickStart3Step: "त्वरित शुरुआत: 3-चरणीय वर्कफ़्लो",
        quickStartDesc: "प्रत्येक जेनरेशन इस पैटर्न का पालन करती है: अपलोड → जॉब बनाएं → पोल परिणाम",
        step1Title: "छवि अपलोड करें",
        step2Title: "जॉब बनाएं",
        step3Title: "परिणाम प्राप्त करें",
        endpoints: "एंडपॉइंट्स",
        jobTypesCosts: "जॉब के प्रकार और क्रेडिट लागत",
        typeCol: "प्रकार",
        descCol: "वर्णन",
        creditsCol: "क्रेडिट",
        integrationExamples: "एकीकरण उदाहरण",
        rateLimitsTierInfo: "दर सीमा और टियर जानकारी",
        maxRes: "अधिकतम रेसोल्यूशन",
        concurrentJobs: "जॉब",
        copied: "कॉपी किया गया!",
        copy: "कॉपी करें",
        parameters: "पैरामीटर्स",
        example: "उदाहरण",
        response: "प्रतिक्रिया (Response)",
        nameLabel: "नाम",
        typeLabel: "प्रकार",
        requiredLabel: "आवश्यक",
        descLabel: "वर्णन",
        requiredTag: "आवश्यक",
        optionalTag: "वैकल्पिक"
    , 
        settingsTitle: "सेटिंग्स",
        settingsDesc: "अपने खाते, API कुंजियों और प्राथमिकताओं को प्रबंधित करें",
        profileTab: "प्रोफ़ाइल",
        billingTab: "बिलिंग और प्लान",
        apiKeysTab: "API कुंजियाँ",
        notificationsTab: "सूचनाएं",
        securityTab: "सुरक्षा",
        profileInfo: "प्रोफ़ाइल जानकारी",
        nameLabel: "नाम",
        emailLabel: "ईमेल",
        saveChanges: "परिवर्तन सहेजें",
        availableCredits: "उपलब्ध क्रेडिट",
        usage: "उपयोग",
        subscriptionPlans: "सदस्यता प्लान",
        currentPlan: "वर्तमान प्लान",
        upgrade: "अपग्रेड करें",
        generateKey: "कुंजी जनरेट करें",
        keysUsed: "उपयोग की गई कुंजियाँ",
        noApiKeysYet: "अभी तक कोई API कुंजी नहीं",
        generateFirstKey: "अपनी पहली कुंजी जनरेट करें",
        quickStart: "त्वरित शुरुआत",
        notificationPrefs: "सूचना प्राथमिकताएं",
        securitySettings: "सुरक्षा सेटिंग्स",
        changePassword: "पासवर्ड बदलें",
        updatePassword: "पासवर्ड अपडेट करें",
        dangerZone: "खतरनाक क्षेत्र (Danger Zone)",
        signOut: "साइन आउट करें",
        deleteAccount: "खाता हटाएं"
    , 
        workflowEditor: "वर्कफ़्लो संपादक",
        nodeLibrary: "नोड लाइब्रेरी",
        dragClickNodes: "नोड्स जोड़ने के लिए खींचें या क्लिक करें",
        searchNodes: "नोड्स खोजें...",
        save: "सहेजें",
        saved: "सहेजा गया!",
        queuePrompt: "प्रॉम्प्ट कतारबद्ध करें",
        runningNode: "चल रहा है: नोड",
        processing: "प्रसंस्करण...",
        untitledWorkflow: "शीर्षकहीन वर्कफ़्लो",
        workflowQueued: "वर्कफ़्लो कतारबद्ध है — लाइव अपडेट के लिए देख रहे हैं...",
        workflowCompleted: "वर्कफ़्लो सफलतापूर्वक पूरा हुआ!",
        executionError: "निष्पादन त्रुटि"
    },
    mr: {
        cinematicVideo: "सिनेमॅटिक व्हिडिओ",
        studioActive: "स्टुडिओ सक्रिय",
        connecting: "जोडत आहे...",
        studioOffline: "स्टुडिओ ऑफलाइन",
        produceHollywood: "अत्याधुनिक Wan 2.1 इंजिन वापरून बॉलीवूड-दर्जाचे सिनेमॅटिक मोशन तयार करा.",
        creditsLeft: "क्रेडिट्स शिल्लक",
        cost: "खर्च",
        t2v: "मजकुरावरून व्हिडिओ",
        i2v: "चित्रावरून व्हिडिओ",
        video_inpaint: "व्हिडिओ ऑटो-मास्क",
        uploadBaseVideo: "व्हिडिओ अपलोड करा",
        uploadImageRef: "संदर्भासाठी चित्र अपलोड करा",
        whatToHide: "काय लपवायचे/मास्क करायचे?",
        hideMaskPlaceholder: "AI ने काय शोधायचे आणि मास्क करायचे याचे वर्णन करा... उदा., 'व्यक्तीचा लाल शर्ट'",
        smartAiDesc: "स्मार्ट एआय डिटेक्शन स्वयंचलितपणे सर्व फ्रेमवर या वस्तू शोधून मास्क करेल.",
        refinementPrompt: "सुधारणा / इनपेंट प्रॉम्प्ट",
        motionPrompt: "मोशन प्रॉम्प्ट",
        refinePlaceholder: "मास्क केलेल्या भागात काय ठेवायचे? उदा., 'एक निळे डेनिम जॅकेट'",
        motionPlaceholder: "वातावरणाचे वर्णन करा... उदा., 'निऑन-प्रकाशाच्या भविष्यातील शहरातून वेगाने पाठलाग...'",
        tokensUsed: "टोकन वापरले",
        refineWithAi: "AI सह सुधारा",
        aspectRatio: "आकार गुणोत्तर",
        durationFps: "कालावधी आणि एफपीएस",
        standard5s: "मानक (5s)",
        extended7s: "विस्तारित (7.5s)",
        snapshot2s: "स्नॅपशॉट (2.5s)",
        cinematic16: "सिनेमॅटिक (16 FPS)",
        smooth24: "स्मूथ (24 FPS)",
        fluid30: "फ्लुइड (30 FPS)",
        startProduction: "उत्पादन सुरू करा",
        stopResetUI: "उत्पादन UI थांबवा आणि रीसेट करा",
        cinemaOutput: "सिनेमा आउटपुट",
        stageEmpty: "स्टेज रिकामा आहे. जादू पाहण्यासाठी उत्पादन सुरू करा.",
        calculatingMotion: "मोशन वेक्टर्सची गणना करत आहे...",
        temporalFrame: "टेम्पोरल फ्रेम सिंथेसिस",
        productionMetadata: "उत्पादन मेटाडेटा",
        format: "स्वरूप:",
        engine: "इंजिन:",
        resolution: "रिझोल्यूशन:",
        frames: "फ्रेम:",
        studioArchives: "स्टुडिओ आर्काइव्हज",
        pastGenerations: "तुमचे मागील सिनेमॅटिक जनरेशन",
        browseAll: "सर्व ब्राउझ करा",
        // Navigation and Layout Sidebar
        navDashboard: "डॅशबोर्ड",
        navGenerate: "तयार करा",
        navGenerateVideo: "व्हिडिओ तयार करा",
        navGallery: "गॅलरी",
        navWorkflows: "वर्कफ्लो",
        navModels: "मॉडेल्स",
        navApiDocs: "API दस्तऐवज",
        navSettings: "सेटिंग्ज",
        enterprise: "एंटरप्राइझ",
        newGeneration: "नवीन जनरेशन",
        workspace: "कार्यक्षेत्र",
        developer: "विकसक",
        credits: "क्रेडिट्स",
        proPlan: "प्रो प्लॅन • 1,000/महिना",
        enterpriseUnlimited: "एंटरप्राइझ • अमर्यादित",
        freeTier: "विनामूल्य श्रेणी • 100/महिना",
        managePlan: "प्लॅन व्यवस्थापित करा",
        upgradePlan: "प्लॅन अपग्रेड करा",
        uiLang: "UI भाषा:",
        user: "वापरकर्ता",
        pro: "प्रो",
        free: "विनामूल्य"
    , 
        welcomeBack: "परत आल्याबद्दल स्वागत आहे!",
        whatsHappening: "तुमच्या AI कलाकृतींसोबत काय होत आहे ते येथे आहे.",
        totalGens: "एकूण निर्मिती (Generations)",
        keepCreating: "तयार करत रहा!",
        workflowsCreated: "वर्कफ्लो तयार केले",
        greatStart: "उत्तम सुरुवात",
        tryEditor: "संपादक वापरून पहा",
        creditsRemaining: "उर्वरित क्रेडिट्स",
        resetsIn30: "30 दिवसांत रीसेट होईल",
        timeSaved: "वेळेची बचत",
        vsManual: "विरुद्ध मॅन्युअल निर्मिती",
        textToImage: "मजकुरावरून चित्र",
        genFromPrompt: "मजकूर प्रॉम्प्टवरून प्रतिमा तयार करा",
        startGenerating: "निर्मिती सुरू करा",
        workflowEditor: "वर्कफ्लो संपादक",
        buildComplex: "गुंतागुंतीचे जनरेशन पाईपलाईन्स तयार करा",
        createWorkflow: "वर्कफ्लो तयार करा",
        exploreModels: "मॉडेल्स एक्सप्लोर करा",
        browseCheckpoints: "चेकपॉइंट्स, LoRAs आणि बरेच काही ब्राउझ करा",
        browseModels: "मॉडेल्स ब्राउझ करा",
        recentGens: "अलीकडील जनरेशन्स",
        viewAll: "सर्व पहा",
        noGensYet: "अद्याप निर्मिती नाही",
        startCreatingArt: "तुम्हाला काय पाहायचे आहे याचे वर्णन करून अद्भुत AI कला तयार करण्यास सुरुवात करा.",
        createFirstImg: "तुमची पहिली प्रतिमा तयार करा",
        galleryTitle: "गॅलरी",
        manageImages: "तुमच्या AI-जनरेट केलेल्या प्रतिमा ब्राउझ करा आणि व्यवस्थापित करा",
        searchPrompt: "प्रॉम्प्ट द्वारे शोधा...",
        filter: "फिल्टर",
        startCreatingImages: "AI सह अद्भुत प्रतिमा तयार करणे सुरू करा",
        genFirstImage: "तुमची पहिली प्रतिमा तयार करा",
        noPromptAvail: "कोणताही प्रॉम्प्ट उपलब्ध नाही",
        genDetails: "निर्मितीचे तपशील",
        promptLabel: "प्रॉम्प्ट",
        negPromptLabel: "नकारात्मक प्रॉम्प्ट",
        sizeLabel: "आकार",
        stepsLabel: "पायऱ्या",
        cfgScaleLabel: "CFG स्केल",
        seedLabel: "सीड",
        downloadLabel: "डाउनलोड",
        deleteLabel: "काढून टाका",
        confirmDelTitle: "हटवण्याची पुष्टी करा",
        confirmDelMsg: "तुम्हाला खात्री आहे की तुम्हाला ही पिढी कायमची हटवायची आहे? ही क्रिया संचयनातून चित्र/व्हिडिओ काढून टाकेल आणि ती पूर्ववत केली जाऊ शकत नाही.",
        cancel: "रद्द करा",
        delPermanently: "कायमचे हटवा",
        workflowTitle: "वर्कफ्लो",
        workflowDesc: "आपले AI पाइपलाइन तयार करा, व्यवस्थापित करा आणि चालवा",
        newWorkflow: "नवीन वर्कफ्लो",
        quickStartTemplates: "क्विक स्टार्ट टेम्पलेट्स",
        useTemplate: "टेम्पलेट वापरा",
        myWorkflows: "माझे वर्कफ्लो",
        createWorkflowStartFromScratch: "नोड एडिटर वापरून सुरवातीपासून सुरु करा",
        nodesLabel: "नोड्स",
        updatedDateLabel: "अद्यतनित (Updated)",
        editLabel: "संपादित करा",
        modelsHub: "मॉडेल्स हब",
        modelsDesc: "चेकपॉइंट्स आणि LoRAs एक्सप्लोर करा आणि व्यवस्थापित करा",
        uploadModel: "मॉडेल अपलोड करा",
        searchModels: "मॉडेल्स शोधा...",
        allTypes: "सर्व प्रकार",
        checkpoint: "चेकपॉइंट",
        lora: "LoRA",
        vae: "VAE",
        addedBy: "यांनी जोडले",
        modelName: "मॉडेलचे नाव",
        modelUrlDesc: "HuggingFace URL किंवा थेट लिंक",
        descriptionLabel: "वर्णन",
        addModel: "मॉडेल जोडा",
        adding: "जोडत आहे..."
    , 
        txt2img: "मजकुरावरून चित्र",
        img2img: "चित्रावरून चित्र",
        inpaintMode: "एआय स्मार्ट इनपेंट",
        upscaleMode: "अपस्केल",
        generationSettings: "जनरेशन सेटिंग्ज",
        promptLabelUI: "सकारात्मक प्रॉम्प्ट",
        promptOptionalTitle: "(तपशिलासाठी पर्यायी)",
        negativePromptLabel: "नकारात्मक प्रॉम्प्ट",
        baseImageTitle: "मूळ चित्र",
        uploadBaseImg: "मूळ चित्र अपलोड करा",
        dragDropOrig: "तुमची मूळ प्रतिमा येथे क्लिक करा किंवा ड्रॅग करा",
        maskImageTitle: "मास्क प्रतिमा",
        uploadMaskImg: "मास्क चित्र अपलोड करा",
        dragDropMask: "तुमची मुखवटा प्रतिमा येथे क्लिक करा किंवा ड्रॅग करा (पांढरा = बदलण्याचे क्षेत्र)",
        selectMaskingMethod: "मास्किंग पद्धत निवडा",
        autoMaskMethod: "ऑटो-मास्क (एआय डिटेक्शन)",
        manualMaskMethod: "मॅन्युअल मास्क अपलोड",
        whatToChangeLabel: "काय बदलायचे?",
        describeChangePlaceholder: "उदा. 'व्यक्तीचा लाल शर्ट', 'पार्श्वभूमीत कार'",
        aspectRatioTitle: "आकार गुणोत्तर",
        advancedSettingsTitle: "प्रगत सेटिंग्ज",
        stepsTitle: "पायऱ्या",
        cfgScaleTitle: "CFG स्केल",
        seedTitle: "सीड",
        randomTitle: "रँडम",
        samplerTitle: "सॅम्पलर",
        baseModelTitle: "बेस मॉडेल",
        generateButtonLabel: "प्रतिमा तयार करा",
        generatingButtonLabel: "तयार करत आहे...",
        stopResetUILabel: "थांबवा आणि UI रीसेट करा"
    , 
        apiDocsTitle: "API दस्तऐवजीकरण",
        apiDocsDesc: "तुमच्या ॲप्लिकेशन्समध्ये AI Studio समाकलित करा",
        authentication: "प्रमाणीकरण",
        authDesc: "सर्व API विनंत्यांसाठी API की वापरून प्रमाणीकरण आवश्यक आहे. x-api-key हेडरमध्ये की समाविष्ट करा. तुम्ही वापरकर्ता-स्कोप प्रवेशासाठी Supabase JWT बेअरर टोकन देखील वापरू शकता.",
        baseUrl: "बेस URL",
        versionStable: "v1 स्थिर",
        quickStart3Step: "त्वरीत सुरुवात: 3-चरण वर्कफ्लो",
        quickStartDesc: "प्रत्येक जनरेशन या पॅटर्नचे अनुसरण करते: अपलोड → जॉब तयार करा → पोल निकाल",
        step1Title: "चित्र अपलोड करा",
        step2Title: "जॉब तयार करा",
        step3Title: "निकाल मिळवा",
        endpoints: "एंडपॉइंट्स",
        jobTypesCosts: "जॉबचे प्रकार आणि क्रेडिट खर्च",
        typeCol: "प्रकार",
        descCol: "वर्णन",
        creditsCol: "क्रेडिट",
        integrationExamples: "एकीकरण उदाहरणे",
        rateLimitsTierInfo: "दर मर्यादा आणि टियर माहिती",
        maxRes: "कमाल रिझोल्यूशन",
        concurrentJobs: "जॉब",
        copied: "कॉपी केले!",
        copy: "कॉपी करा",
        parameters: "पॅरामीटर्स",
        example: "उदाहरण",
        response: "प्रतिसाद (Response)",
        nameLabel: "नाव",
        typeLabel: "प्रकार",
        requiredLabel: "आवश्यक",
        descLabel: "वर्णन",
        requiredTag: "आवश्यक",
        optionalTag: "पर्यायी"
    , 
        settingsTitle: "सेटिंग्ज",
        settingsDesc: "तुमचे खाते, API की आणि प्राधान्ये व्यवस्थापित करा",
        profileTab: "प्रोफाइल",
        billingTab: "बिलिंग आणि प्लॅन्स",
        apiKeysTab: "API की",
        notificationsTab: "सूचना",
        securityTab: "सुरक्षा",
        profileInfo: "प्रोफाइल माहिती",
        nameLabel: "नाव",
        emailLabel: "ईमेल",
        saveChanges: "बदल जतन करा",
        availableCredits: "उपलब्ध क्रेडिट",
        usage: "वापर",
        subscriptionPlans: "सदस्यता योजना",
        currentPlan: "वर्तमान योजना",
        upgrade: "अपग्रेड करा",
        generateKey: "की तयार करा",
        keysUsed: "वापरलेल्या की",
        noApiKeysYet: "अद्याप कोणतीही API की नाही",
        generateFirstKey: "तुमची पहिली की तयार करा",
        quickStart: "त्वरीत सुरुवात",
        notificationPrefs: "सूचना प्राधान्ये",
        securitySettings: "सुरक्षा सेटिंग्ज",
        changePassword: "पासवर्ड बदला",
        updatePassword: "पासवर्ड अपडेट करा",
        dangerZone: "धोकादायक क्षेत्र",
        signOut: "साइन आउट करा",
        deleteAccount: "खाते हटवा"
    , 
        workflowEditor: "वर्कफ्लो संपादक",
        nodeLibrary: "नोड लायब्ररी",
        dragClickNodes: "नोड्स जोडण्यासाठी ड्रॅग करा किंवा क्लिक करा",
        searchNodes: "नोड्स शोधा...",
        save: "जतन करा",
        saved: "जतन केले!",
        queuePrompt: "प्रॉम्प्ट रांगेत ठेवा",
        runningNode: "चालू आहे: नोड",
        processing: "प्रक्रिया करत आहे...",
        untitledWorkflow: "विनाशीर्षक वर्कफ्लो",
        workflowQueued: "वर्कफ्लो रांगेत आहे — लाईव्ह अपडेट्स तपासत आहे...",
        workflowCompleted: "वर्कफ्लो यशस्वीरित्या पूर्ण झाला!",
        executionError: "एक्झिक्युशन त्रुटी"
    }
};

const I18nContext = createContext<I18nContextType | undefined>(undefined);

export function I18nProvider({ children }: { children: React.ReactNode }) {
    const [language, setLanguageState] = useState<Language>('en');

    useEffect(() => {
        const searchParams = new URLSearchParams(window.location.search);
        const urlLang = searchParams.get('lang') as Language;
        const saved = localStorage.getItem('ui_lang_pref') as Language;

        if (urlLang && ['en', 'hi', 'mr'].includes(urlLang)) {
            setLanguageState(urlLang);
            localStorage.setItem('ui_lang_pref', urlLang);
        } else if (saved && ['en', 'hi', 'mr'].includes(saved)) {
            setLanguageState(saved);
        } else {
            const browserLang = navigator.language.toLowerCase();
            if (browserLang.startsWith('hi')) {
                setLanguageState('hi');
            } else if (browserLang.startsWith('mr')) {
                setLanguageState('mr');
            } else {
                setLanguageState('en');
            }
        }
    }, []);

    const setLanguage = (lang: Language) => {
        setLanguageState(lang);
        localStorage.setItem('ui_lang_pref', lang);
        
        try {
            const url = new URL(window.location.href);
            url.searchParams.set('lang', lang);
            window.history.replaceState(null, '', url.toString());
        } catch (e) {
            console.error(e);
        }
    };

    const t = (key: string) => {
        return TRANSLATIONS[language][key] || TRANSLATIONS['en'][key] || key;
    };

    return (
        <I18nContext.Provider value={{ language, setLanguage, t }}>
            {children}
        </I18nContext.Provider>
    );
}

export function useI18n() {
    const context = useContext(I18nContext);
    if (context === undefined) {
        throw new Error('useI18n must be used within an I18nProvider');
    }
    return context;
}
